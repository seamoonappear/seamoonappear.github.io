---
layout: default
title: 标签
permalink: /pages/tags/
---
{% assign date_format = site.date_format | default: "%B %-d, %Y" %}  <!-- 设置日期格式，如果没有设置则使用默认格式 -->

{%- capture site_tags -%}  <!-- 捕捉所有标签 -->
    {%- for tag in site.tags -%}  <!-- 遍历所有标签 -->
        {{- tag | first -}}{%- unless forloop.last -%},{%- endunless -%}  <!-- 获取标签的第一个字符，并且标签之间用逗号隔开 -->
    {%- endfor -%}
{%- endcapture -%}

{%- assign tags_list = site_tags | split:',' | sort -%}  <!-- 将捕捉到的标签按逗号拆分，转换为列表，并排序 -->

{%- for tag in tags_list -%}  <!-- 遍历所有排序后的标签 -->
    <a href="#{{- tag -}}" class="btn btn-primary tag-btn">
        <i class="fas fa-tag" aria-hidden="true"></i>&nbsp;{{- tag -}}&nbsp;({{site.tags[tag].size}})  <!-- 显示每个标签和其对应的文章数量 -->
    </a>
{%- endfor -%}

<div id="full-tags-list">
    {%- for tag in tags_list -%}  <!-- 再次遍历所有标签 -->
        <h2 id="{{- tag -}}" class="linked-section">
            <i class="fas fa-tag" aria-hidden="true"></i>
            &nbsp;{{- tag -}}&nbsp;({{site.tags[tag].size}})  <!-- 显示标签的名称和数量 -->
        </h2>
        <div class="post-list">
            {%- for post in site.tags[tag] -%}  <!-- 遍历每个标签下的文章 -->
                <div class="tag-entry">
                    <a href="{{ post.url | relative_url }}">{{- post.title | strip_html -}}</a>  <!-- 显示文章标题，去除HTML标签 -->
                    <div class="entry-date">
                        <time datetime="{{- post.date | date_to_xmlschema -}}">{{- post.date | date: date_format -}}</time>  <!-- 显示文章的发布日期 -->
                    </div>
                </div>
            {%- endfor -%}
        </div>
    {%- endfor -%}
</div>
