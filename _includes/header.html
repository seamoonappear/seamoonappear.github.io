{% assign date_format = site.date_format | default: "%Y年%-m月%-d日" %}
{%- comment -%}
设置日期格式为中文，例如 “2025年11月8日”
如果 _config.yml 中定义了 date_format，则优先使用。
{%- endcomment -%}

{% if page.cover-img %}
  <div id="header-big-imgs" data-num-img={% if page.cover-img.first %}{{ page.cover-img.size }}{% else %}1{% endif %}
    {%- comment -%}
    如果页面设置了封面图（cover-img），则为每张图片生成 data 属性。
    支持多张封面图的循环加载。
    {%- endcomment -%}
    {% for bigimg in page.cover-img %}
    {% assign imgnum = forloop.index %}
    {% for imginfo in bigimg %}
    {% if imginfo[0] %}
      data-img-src-{{ imgnum }}="{{ imginfo[0] | absolute_url }}"
      data-img-desc-{{ imgnum }}="{{ imginfo[1] }}"
    {% else %}
      data-img-src-{{ imgnum }}="{{ imginfo | absolute_url }}"
    {% endif %}
    {% endfor %}
    {% endfor %}
  ></div>
{% endif %}

<header class="header-section {% if page.cover-img %}has-img{% endif %}">
  <div class="intro-header {% if page.cover-img %} big-img {% endif %}">
    {% if page.cover-img %}
    <div class="container-md">
      <div class="row">
        <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
          <div class="{{ include.type }}-heading">
            <!-- 封面存在时保留标题容器，但不显示文章元数据 -->
          </div>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- 如果有封面图片，则显示图片描述（可在 front matter 中定义） -->
    {% if page.cover-img %}
      <span class='img-desc'>{{ page.cover-img-desc }}</span>
    {% endif %}
  </div>

  <!-- 页面额外头部扩展，可自定义 include 文件 -->
  {% if page.header-extra %}
    {% for file in page.header-extra %}
      {% include {{ file }} %}
    {% endfor %}
  {% endif %}
</header>