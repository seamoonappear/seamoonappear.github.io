---
layout: page
title: '分类索引'
---

{% assign date_format = site.date_format | default: "%Y年%-m月%-d日" %}

{%- capture site_categories -%}
  {%- for category in site.categories -%}
    {{ category | first }}{%- unless forloop.last -%},{%- endunless -%}
  {%- endfor -%}
{%- endcapture -%}
{%- assign categories_list = site_categories | split:',' | sort -%}

<section class="categories-page">

  <!-- 顶部分类导航 -->
  <div class="categories-nav">
    <strong>全部分类：</strong>
    {%- for category in categories_list -%}
      <a href="#category-{{ category | slugify }}" class="category-nav-item">{{ category }}</a>
    {%- endfor -%}
  </div>

  <!-- 遍历所有分类及其文章 -->
  {%- for category in categories_list -%}
    <div class="category-block" id="category-{{ category | slugify }}">
      <h2 class="category-title">
        {{ category }} <span class="category-count">{{ site.categories[category].size }}</span>
      </h2>

      <ul class="category-posts">
        {%- for post in site.categories[category] -%}
          <li class="category-post-item">
            <a href="{{ post.url | relative_url }}" class="post-link">{{ post.title }}</a>
            <span class="post-date">{{ post.date | date: date_format }}</span>
          </li>
        {%- endfor -%}
      </ul>
    </div>
  {%- endfor -%}

</section>

<!-- CSS 美化 -->
<style>
  .categories-page {
    max-width: 900px;
    margin: 2rem auto;
    padding: 0 1rem;
  }

  /* 分类导航 */
  .categories-nav {
    margin-bottom: 2rem;
    text-align: center;
  }
  .categories-nav strong {
    margin-right: 0.5rem;
  }
  .category-nav-item {
    display: inline-block;
    margin: 0 6px 6px 0;
    padding: 4px 10px;
    background-color: #f0f0f0;
    color: #e67e22;
    border-radius: 12px;
    text-decoration: none;
    font-size: 0.9rem;
    transition: all 0.2s;
  }
  .category-nav-item:hover {
    background-color: #e67e22;
    color: white;
  }

  /* 分类区块 */
  .category-block {
    margin-bottom: 3rem;
    border-bottom: 1px solid #eaeaea;
    padding-bottom: 1.5rem;
  }

  .category-title {
    font-size: 1.5rem;
    color: #e67e22;
    font-weight: 600;
    margin-bottom: 1rem;
    border-left: 5px solid #e67e22;
    padding-left: 10px;
  }

  .category-count {
    background-color: #e67e22;
    color: white;
    border-radius: 12px;
    font-size: 0.85rem;
    padding: 2px 8px;
    margin-left: 6px;
  }

  /* 文章列表 */
  .category-posts {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .category-post-item {
    display: flex;
    justify-content: space-between;
    border-bottom: 1px dashed #ddd;
    padding: 0.6rem 0;
  }

  .post-link {
    text-decoration: none;
    color: #2c3e50;
    transition: color 0.2s;
  }

  .post-link:hover {
    color: #d35400;
  }

  .post-date {
    font-size: 0.9rem;
    color: #999;
  }

  /* 响应式：手机端优化 */
  @media (max-width: 768px) {
    .category-post-item {
      flex-direction: column;
      align-items: flex-start;
    }
    .post-date {
      margin-top: 4px;
    }
  }
</style>